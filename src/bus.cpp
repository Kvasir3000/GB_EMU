#include "bus.h"

BUS::BUS(std::vector<uint8_t> program_data)
{
	ram = new uint8_t[0xFFFF];
	memcpy(ram, program_data.data(), program_data.size() * sizeof(uint8_t));
	ram[0x100] = 0x06;
	ram[0x101] = 0xBE;
	ram[0x102] = 0x0E;
	ram[0x103] = 0xBA;
	ram[0x104] = 0xC5;
	ram[0x105] = 0x16;
	ram[0x106] = 0xDA;
	ram[0x107] = 0x1E;
	ram[0x108] = 0xAD;
	ram[0x109] = 0xD5;
	ram[0x10A] = 0x26;
	ram[0x10B] = 0xEA;
	ram[0x10C] = 0x2E;
	ram[0x10D] = 0x12;
	ram[0x10E] = 0xE5;
	ram[0x10F] = 0x3E;
	ram[0x110] = 0xFA;
	ram[0x111] = 0xF5;
	ram[0x112] = 0xF1;
	ram[0x113] = 0xE1;
	ram[0x114] = 0xD1;
	ram[0x115] = 0xC1;
	ram[0x116] = 0x79;
	ram[0x117] = 0x87;
	ram[0x118] = 0x80;
	ram[0x119] = 0x81;
	ram[0x11A] = 0x82;
	ram[0x11B] = 0x83;
	ram[0x11C] = 0x84;
	ram[0x11D] = 0x85;
	ram[0xea12] = 0x08;
	ram[0x11E] = 0x86;
	ram[0x11F] = 0xC6;
	ram[0x120] = 0x90;
}; 

uint8_t BUS::read_from_memory(uint64_t memory_addr)
{
	return ram[memory_addr];
};

void BUS::write_to_memory(uint64_t memory_addr, uint8_t data)
{
	ram[memory_addr] = data;
};